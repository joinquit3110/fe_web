/* Root variables and initial setup */
:root {
  /* Harry Potter Theme Colors */
  --primary-color: #740001;    /* Gryffindor Red */
  --secondary-color: #D3A625;  /* Gryffindor Gold */
  --accent-color: #0E1A40;     /* Ravenclaw Blue */
  --background-dark: #0a0a2a;
  --background-light: #1a0b33;
  --text-primary: #f0f0f0;
  --text-secondary: #D3A625;
  --error-color: #ff4d4d;
  --success-color: #4CAF50;
  --border-color: rgba(211, 166, 37, 0.2);
  --card-bg: rgba(10, 10, 42, 0.8);
  --hover-color: rgba(211, 166, 37, 0.1);
  --background-color: #1A1A1A;
  --text-color: #FFFFFF;
  --grid-color: rgba(255, 255, 255, 0.1);
  --axis-color: rgba(255, 255, 255, 0.8);
  --sky-bg-color: #142b4d;
  --moon-color: #fff;
  --moon-color-2: #f0f3eb;
  --moonlight-1: rgba(54, 99, 113, 0.20);
  --moonlight-2: rgba(44, 116, 140, 0.20);
  --moonlight-3: rgba(67, 157, 174, 0.20);
  --moonlight-4: rgba(82, 176, 190, 0.20);
  --star-color: #fff;
  --star-glow: rgba(255,255,255,0.8);
  --moon-shadow: rgba(0,0,0,0.1);
  --hill-right-color: linear-gradient(180deg, rgba(1,107,131,1) 0%, rgba(22,80,112,1) 34%);
  --hill-left-color: linear-gradient(180deg, rgba(1,107,131,1) 0%, rgba(16,90,124,1) 34%);
  --middle-hill-color: #154465;
  --layer-4: #10768e;
  --layer-2: #125a79;
  --layer-3: #136382;
  --layer-1: #105273;
  --cabin-color: #031f2f;
  --cabin-color-shadow: rgba(0,41,66,.1);
  --light-color: #f5e14d;
  --background-dark: #1a0f0f;
  --background-light: #2d1f1f;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Cinzel', serif;
  background: linear-gradient(135deg, var(--background-dark) 0%, var(--background-light) 100%);
  color: var(--text-primary);
  min-height: 100vh;
  overflow-x: hidden;
}

/* Mobile-first styles */
.app {
  min-height: 100vh;
  background: var(--sky-bg-color);
  padding: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
}

.moon-wrapper {
  position: absolute;
  display: flex;
  justify-content: center;
  z-index: 0;
  width: 600px;
  height: 600px;
  right: 0;
  top: -160px;
}

.moon, .moonlight, .shadow {
  border-radius: 50%;
}

.moon {
  z-index: 5;
  width: 80px;
  height: 80px;
  background: var(--moon-color);
  max-width: 80px;
}

.shadow {
  position: relative;
  background: var(--moon-color-2);
}

.shadow.shadow-1 {
  width: 12px;
  height: 12px;
  left: 26px;
  top: 12px;
}

.shadow.shadow-2 {
  width: 16px;
  height: 16px;
  left: 10px;
  top: 10px;
}

.shadow.shadow-3 {
  width: 8px;
  height: 8px;
  top: 14px;
  left: 20px;
}

.moonlight {
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  z-index: 2;
  border-radius: 50%;
  animation: moonlight-pulse 4s ease-in-out infinite;
}

.moonlight.moonlight-4 {
  background: var(--moonlight-4);
  width: 200px;
  height: 200px;
}

.moonlight.moonlight-3 {
  background: var(--moonlight-3);
  width: 360px;
  height: 360px;
}

.moonlight.moonlight-2 {
  background: var(--moonlight-2);
  width: 480px;
  height: 480px;
}

.moonlight.moonlight-1 {
  background: var(--moonlight-1);
  width: 620px;
  height: 620px;
}

.stars {
  position: fixed;
  width: 100%;
  height: 100%;
  z-index: 1;
  pointer-events: none;
}

.star {
  position: absolute;
  border-radius: 50%;
  animation: twinkle 2s ease-in-out infinite;
  transition: transform 0.3s ease;
}

.star:hover {
  transform: scale(1.5) !important;
}

.small-stars .star {
  width: 2px;
  height: 2px;
  background: var(--star-color);
  box-shadow: 0 0 4px 1px var(--star-glow);
}

.medium-stars .star {
  width: 3px;
  height: 3px;
  background: var(--star-color);
  box-shadow: 0 0 6px 2px var(--star-glow);
}

.farm-header, .farm-content, .control-panel, .message-box, .coordinate-container, .inequalities-list {
  position: relative;
  z-index: 2;
}

.app-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  gap: 2rem;
  position: relative;
  z-index: 1;
}

.app-container::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="none"/><path d="M50 0 L100 50 L50 100 L0 50 Z" fill="rgba(211,166,37,0.05)"/></svg>') repeat;
  opacity: 0.1;
  z-index: -1;
  pointer-events: none;
}

/* Header Styles */
.header {
  text-align: center;
  padding: 2rem 0;
  position: relative;
}

.header h1 {
  font-size: 3rem;
  color: var(--secondary-color);
  text-shadow: 0 0 10px rgba(211, 166, 37, 0.3);
  margin-bottom: 1rem;
  letter-spacing: 2px;
}

.header p {
  font-size: 1.2rem;
  color: var(--text-primary);
  opacity: 0.8;
}

/* Input Container Styles */
.inequality-input-container {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 2rem;
  backdrop-filter: blur(10px);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  transition: transform 0.3s ease;
}

.inequality-input-container:hover {
  transform: translateY(-5px);
}

.input-group {
  display: flex;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.input-field {
  flex: 1;
  padding: 1rem;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.05);
  color: var(--text-primary);
  font-family: 'Cinzel', serif;
  font-size: 1.1rem;
  transition: all 0.3s ease;
}

.input-field:focus {
  outline: none;
  border-color: var(--secondary-color);
  box-shadow: 0 0 0 2px rgba(211, 166, 37, 0.2);
}

.submit-button {
  padding: 1rem 2rem;
  background: linear-gradient(135deg, var(--primary-color) 0%, #8B0000 100%);
  color: var(--secondary-color);
  border: none;
  border-radius: 8px;
  font-family: 'Cinzel', serif;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.submit-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(116, 0, 1, 0.4);
}

.submit-button:active {
  transform: translateY(0);
}

/* Coordinate Plane Styles */
.coordinate-plane-container {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 2rem;
  backdrop-filter: blur(10px);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  position: relative;
  overflow: hidden;
  min-height: 400px;
}

.coordinate-plane-canvas {
  width: 100%;
  height: 100%;
  min-height: 400px;
  touch-action: none;
  background: transparent;
}

.controls-container {
  position: absolute;
  bottom: 1rem;
  right: 1rem;
  display: flex;
  gap: 0.5rem;
  z-index: 10;
}

.control-button {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  color: var(--text-primary);
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
}

.control-button:hover {
  background: var(--hover-color);
  transform: scale(1.1);
}

/* Error Message Styles */
.error-message {
  color: var(--error-color);
  background: rgba(255, 77, 77, 0.1);
  padding: 1rem;
  border-radius: 8px;
  margin-top: 1rem;
  border: 1px solid var(--error-color);
  animation: fadeIn 0.3s ease;
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Mobile Responsive Styles */
@media (max-width: 768px) {
  .app-container {
    padding: 1rem;
  }

  .header h1 {
    font-size: 2rem;
  }

  .input-group {
    flex-direction: column;
  }

  .coordinate-plane-container {
    padding: 1rem;
  }

  .submit-button {
    width: 100%;
  }
}

@media (max-width: 480px) {
  .header h1 {
    font-size: 1.5rem;
  }

  .input-field {
    font-size: 1rem;
  }

  .coordinate-plane-container {
    min-height: 300px;
  }
}

.farmer {
  position: absolute;
  bottom: -20px;
  left: -30px;
  width: 100px;
  height: 100px;
}

.farmer-hat {
  position: absolute;
  top: 10%;
  left: 25%;
  width: 50%;
  height: 25%;
  background: #8B4513;
  border-radius: 50% 50% 0 0;
  transform-origin: bottom center;
  animation: hatTilt 3s ease-in-out infinite;
}

.farmer-face {
  position: absolute;
  top: 35%;
  left: 30%;
  width: 40%;
  height: 40%;
  background: #FFE4C4;
  border-radius: 50%;
}

.cow {
  position: absolute;
  bottom: -30px;
  right: -20px;
  width: 80px;
  height: 60px;
}

.cow-body {
  position: absolute;
  width: 100%;
  height: 60%;
  background: linear-gradient(45deg, #fff 25%, #000 25%, #000 50%, #fff 50%, #fff 75%, #000 75%);
  background-size: 20px 20px;
  border-radius: 30px;
  animation: cowMove 4s ease-in-out infinite;
}

.tree {
  position: absolute;
  top: -40px;
  left: 20px;
}

.tree-top {
  width: 0;
  height: 0;
  border-left: 30px solid transparent;
  border-right: 30px solid transparent;
  border-bottom: 60px solid #2E7D32;
  filter: drop-shadow(0 0 10px rgba(46, 125, 50, 0.3));
  animation: treeWave 3s ease-in-out infinite;
}

/* Modern Farm Decorations */
.farmer-decoration {
  width: 100px;
  height: 100px;
  position: relative;
}

.farmer-decoration::before {
  content: '';
  position: absolute;
  top: 10%;
  left: 25%;
  width: 50%;
  height: 25%;
  background: #8B4513;
  border-radius: 50% 50% 0 0;
  animation: hatTilt 3s ease-in-out infinite;
}

.farmer-decoration::after {
  content: '';
  position: absolute;
  top: 35%;
  left: 30%;
  width: 40%;
  height: 40%;
  background: #FFE4C4;
  border-radius: 50%;
}

.cow-decoration {
  display: none;
}

.cow-decoration::before {
  content: '';
  position: absolute;
  width: 100%;
  height: 60%;
  background: repeating-linear-gradient(
    45deg,
    #fff 0px,
    #fff 10px,
    #000 10px,
    #000 20px
  );
  border-radius: 30px;
  animation: cowMove 4s ease-in-out infinite;
}

/* Add CSS Cow Art */
.cow-decoration {
  position: relative;
  width: 300px;
  height: 300px;
  transform: scale(0.4);
  transform-origin: bottom right;
}

.cow-body {
  position: absolute;
  width: 300px;
  height: 300px;
  border-radius: 152px;
  border: 2px solid #000;
  background: #fff;
  box-shadow: 0px -20px #bebebe inset;
}

.cow-face {
  position: absolute;
  top: -20px;
  left: 40px;
  width: 220px;
  height: 200px;
  background: #fff;
  border: 2px solid #000;
  border-radius: 112px / 102px;
  box-shadow: 0px -12px #bebebe inset;
}

.cow-nose {
  position: absolute;
  top: 80px;
  left: 90px;
  width: 120px;
  height: 60px;
  border-radius: 62px / 32px;
  border: 2px solid #000;
  background: pink;
  box-shadow: 0px -8px #e6aaaa inset;
}

.cow-eye-left, .cow-eye-right {
  position: absolute;
  width: 60px;
  height: 60px;
  border-radius: 34px;
  background: transparent;
  border: 4px solid #000;
  box-shadow: 0px 60px 0px -20px pink inset;
}

.cow-eye-left {
  top: -54px;
  left: 76px;
  animation: cow-blink 4s ease-in-out infinite;
}

.cow-eye-right {
  top: -54px;
  left: 156px;
}

.cow-eye-ball {
  position: absolute;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #000;
}

.cow-eye-ball-left {
  top: -34px;
  left: 100px;
  animation: cow-look 8s ease-in-out infinite;
}

.cow-eye-ball-right {
  top: -34px;
  left: 180px;
}

.cow-ear-left, .cow-ear-right {
  position: absolute;
  width: 80px;
  height: 30px;
  border-radius: 42px / 17px;
  border: 2px solid #000;
  background: #fff;
  box-shadow: 0px -5px pink inset;
}

.cow-ear-left {
  top: -40px;
  transform-origin: right center;
  transform: rotate(30deg);
}

.cow-ear-right {
  top: -40px;
  left: 220px;
  transform-origin: left center;
  transform: rotate(-30deg);
}

@keyframes cow-blink {
  0%, 45%, 55%, 100% {
    box-shadow: 0px 60px 0px -20px pink inset;
  }
  50% {
    box-shadow: 0px 0px 0px -20px pink inset;
  }
}

@keyframes cow-look {
  0%, 100% { transform: translate(0, 0); }
  25% { transform: translate(-10px, -5px); }
  75% { transform: translate(10px, -5px); }
}

/* Cow Animation */
.cow-decoration {
  transform: scale(0.4);
  transform-origin: bottom right;
  position: absolute;
  bottom: -20px;
  right: -20px;
}

.main {
  margin: 40px auto;
  width: 300px;
  height: 300px;
  border-radius: 152px;
  border: 2px solid rgb(0,0,0);
  background: rgb(255,255,255);  
  box-shadow: 0px -20px rgb(190,190,190) inset;
}

.face {
  position: relative;
  top: -20px;
  left: 40px;
  width: 220px;
  height: 200px;
  background: rgb(255,255,255);
  border: 2px solid rgb(0,0,0);
  border-radius: 112px / 102px;
  box-shadow: 0px -12px rgb(190,190,190) inset;
}

.foot {
  position: relative;
  top: 50px;
  left: 50px;
  width: 80px;
  height: 60px;
  border-radius: 30px 30px 8px 8px;
  background: rgb(40,40,40);
  box-shadow: 120px 0px rgb(40,40,40);
}

.nose {
  position: relative;
  top: -120px;
  left: 90px;
  width: 120px;
  height: 60px;
  border-radius: 62px / 32px;
  border: 2px solid rgb(0,0,0);
  background: rgb(254,192,203);
  box-shadow: 0px -8px rgb(230,170,170) inset;
}

.eye-left {
  -webkit-animation: eye-looking 20s ease-in-out infinite;
  -moz-animation: eye-looking 20s ease-in-out infinite;
  animation: eye-looking 20s ease-in-out infinite;
  position: relative;
  top: -354px;
  left: 76px;
  width: 60px;
  height: 60px;
  border-radius: 34px;
  background: transparent;
  border: 4px solid rgb(0,0,0);  
  box-shadow: 0px 60px 0px -20px rgb(254,192,203) inset;  
}

.eye-right {
  position: relative;
  top: -422px;
  left: 156px;
  width: 60px;
  height: 60px;
  border-radius: 34px;
  background: transparent;
  border: 4px solid rgb(0,0,0);
  box-shadow: 0px 60px 0px -20px rgb(254,192,203) inset;
}

.eye-ball-left {
  -webkit-animation: eye-ball-direction 20s ease-in-out infinite;
  -moz-animation: eye-ball-direction 20s ease-in-out infinite;
  animation: eye-ball-direction 20s ease-in-out infinite;
  position: relative;
  top: -220px;
  left: 100px;
  width: 20px;
  height: 20px;
  border-radius: 10px;
  background: rgb(0,0,0);
}

.eye-ball-right {
  position: relative;
  top: -444px;
  left: 180px;
  width: 20px;
  height: 20px;
  border-radius: 10px;
  background: rgb(0,0,0);
  box-shadow: -18px 60px rgb(0,0,0),
              -58px 60px rgb(0,0,0);
}

.ear-left {
  position: relative;
  top: -340px;
  width: 80px;
  height: 30px;
  border-radius: 42px / 17px;
  border: 2px solid rgb(0,0,0);
  background: rgb(255,255,255);
  transform-origin: right center;
  transform: rotate(30deg);
  box-shadow: 0px -5px rgb(254,192,203) inset;  
}

.ear-right {
  position: relative;
  top: -370px;
  left: 220px;
  width: 80px;
  height: 30px;
  border-radius: 42px / 17px;
  border: 2px solid rgb(0,0,0);
  background: rgb(255,255,255);
  transform-origin: left center;
  transform: rotate(-30deg);
  box-shadow: 0px -5px rgb(254,192,203) inset;
}

.hay {
  animation: chew-hay 2s ease-in-out infinite;
  position: relative;
  top: -72px;
  left: 90px;
  width: 160px;
  height: 5px;
  background: rgb(203,133,70);
  box-shadow: 0px 4px 0px 0px rgb(253,164,40),
              0px 8px 0px 0px rgb(203,133,70),
              0px 12px 0px 0px rgb(253,164,40);
  transform: rotate(-25deg);
}

@keyframes eye-looking {
  5% { box-shadow: 0px 0px 0px -20px pink inset; }
  23% { box-shadow: 0px 0px 0px -20px pink inset; }
  30% { box-shadow: 0px 60px 0px -20px pink inset; }
}

@keyframes eye-ball-direction {
  5% { transform: translateY(-20px); }
  10% { transform: translateY(-20px) translateX(-20px); }
  18% { transform: translateY(-20px) translateX(20px); }
  23% { transform: translateY(-16px) translateX(0px); }
  30% { transform: translateY(0px); }
}

@keyframes chew-hay {
  50% { transform: rotate(-15deg); }
  100% { transform: rotate(-25deg); }
}

/* Tooltip cho các nút */
[data-tooltip] {
  position: relative;
}

[data-tooltip]:before {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  padding: 5px 10px;
  background: rgba(0,0,0,0.8);
  color: white;
  border-radius: 4px;
  font-size: 12px;
  white-space: nowrap;
  opacity: 0;
  visibility: hidden;
  transition: all 0.2s ease;
}

[data-tooltip]:hover:before {
  opacity: 1;
  visibility: visible;
  transform: translateX(-50%) translateY(-5px);
}

/* Loading spinner */
.loading {
  width: 20px;
  height: 20px;
  border: 2px solid #f3f3f3;
  border-top: 2px solid #3498db;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

.farm-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  width: 100%;
}

button,
.coordinate-box input,
.delete-icon,
canvas {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

button:active,
.delete-icon:active {
  transform: scale(0.95);
}

button {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

button:hover::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.2);
  transform: translateX(-100%);
  animation: buttonShine 0.5s forwards;
}

.coordinate-input-below button:hover {
  background: #45a049;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(69, 160, 73, 0.3);
}

.reset-button:hover {
  background: linear-gradient(45deg, #c82333, #bd2130);
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 12px rgba(200, 35, 51, 0.3) !important;
}

.add-button:hover {
  background: linear-gradient(45deg, #45a049, #3d8b40);
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 12px rgba(69, 160, 73, 0.3) !important;
}

/* Solution region buttons styling */
.solution-btn {
  padding: 8px 12px;
  border-radius: 6px;
  font-weight: 500;
  font-size: 14px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border: 2px solid currentColor;
  position: relative;
  overflow: hidden;
  background: rgba(255, 255, 255, 0.9);
}

.solution-btn:hover {
  transform: translateY(-2px) scale(1.05);
  box-shadow: 0 4px 12px rgba(var(--btn-color-rgb), 0.2);
  background: rgba(var(--btn-color-rgb), 0.1);
}

.solution-btn::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(
    45deg,
    transparent,
    rgba(255, 255, 255, 0.3),
    transparent
  );
  transform: rotate(45deg);
  animation: shine-effect 3s infinite;
}

/* Dynamic color variables for buttons */
.solution-btn[data-color="blue"] {
  --btn-color-rgb: 0, 119, 204;
  --btn-gradient-start: rgba(0, 119, 204, 0.1);
  --btn-gradient-end: rgba(0, 119, 204, 0.05);
}

.solution-btn[data-color="red"] {
  --btn-color-rgb: 217, 83, 79;
  --btn-gradient-start: rgba(217, 83, 79, 0.1);
  --btn-gradient-end: rgba(217, 83, 79, 0.05);
}

.solution-btn[data-color="green"] {
  --btn-color-rgb: 92, 184, 92;
  --btn-gradient-start: rgba(92, 184, 92, 0.1);
  --btn-gradient-end: rgba(92, 184, 92, 0.05);
}

.solution-btn[data-color="orange"] {
  --btn-color-rgb: 240, 173, 78;
  --btn-gradient-start: rgba(240, 173, 78, 0.1);
  --btn-gradient-end: rgba(240, 173, 78, 0.05);
}

/* Styles for the login page */
.login-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: var(--sky-bg-color);
}

.login-box {
  background: rgba(255, 255, 255, 0.95);
  padding: 2.5rem;
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(31, 38, 135, 0.2);
  backdrop-filter: blur(10px);
  width: 90%;
  max-width: 420px;
  margin: 20px;
  overflow: hidden;
}

.login-box h2 {
  text-align: center;
  margin-bottom: 1.5rem;
  color: #333;
}

.login-box form {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.login-box input {
  padding: 12px;
  border: 2px solid #e1e1e1;
  border-radius: 5px;
  font-size: 16px;
  transition: border-color 0.3s ease;
}

.login-box input:focus {
  border-color: #4CAF50;
  outline: none;
}

.login-box button {
  background: linear-gradient(45deg, #4CAF50, #45a049);
  color: white;
  padding: 12px;
  border: none;
  border-radius: 5px;
  font-size: 16px;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.login-box button:hover {
  transform: translateY(-2px);
}

.login-box p {
  text-align: center;
  margin-top: 1rem;
  color: #666;
  cursor: pointer;
}

.login-box p:hover {
  color: #4CAF50;
}

.error-message {
  background: #ffebee;
  color: #c62828;
  padding: 10px;
  border-radius: 5px;
  margin-bottom: 1rem;
}

/* User Profile Styles */
.user-profile {
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 1000;
}

.user-trigger {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 16px;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 24px;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
}

.avatar-container {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  overflow: hidden;
  background: #e1e1e1;
  display: flex;
  align-items: center;
  justify-content: center;
}

.user-avatar {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.avatar-icon {
  font-size: 32px;
  color: #666;
}

.avatar-upload {
  width: 120px;
  height: 120px;
  margin: 0 auto 20px;
  border-radius: 50%;
  overflow: hidden;
  cursor: pointer;
  position: relative;
  background: #f5f5f5;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

.avatar-upload:hover {
  background: #e1e1e1;
}

.avatar-upload:hover::after {
  content: 'Thay đổi ảnh';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 8px;
  background: rgba(0,0,0,0.7);
  color: white;
  font-size: 12px;
  text-align: center;
}

.profile-avatar {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.avatar-placeholder {
  color: #666;
  font-size: 40px;
}

.profile-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  margin-top: 8px;
  width: 320px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.15);
  padding: 20px;
  animation: slideIn 0.3s ease-out;
}

.profile-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.close-btn {
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  border-radius: 50%;
  transition: background 0.2s;
}

.close-btn:hover {
  background: rgba(0,0,0,0.05);
}

.profile-form, .password-form {
  margin-bottom: 24px;
}

.form-group {
  margin-bottom: 16px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  color: #666;
  font-size: 14px;
}

.form-group input {
  width: 100%;
  padding: 8px 12px;
  border: 2px solid #e1e1e1;
  border-radius: 6px;
  font-size: 14px;
  transition: border-color 0.2s;
}

.form-group input:focus {
  border-color: #4CAF50;
  outline: none;
}

.update-btn, .change-password-btn {
  width: 100%;
  padding: 10px;
  border: none;
  border-radius: 6px;
  background: #4CAF50;
  color: white;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
}

.update-btn:hover, .change-password-btn:hover {
  background: #45a049;
  transform: translateY(-2px);
}

.logout-btn {
  width: 100%;
  padding: 10px;
  border: none;
  border-radius: 6px;
  background: #f44336;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  cursor: pointer;
  transition: all 0.2s;
}

.logout-btn:hover {
  background: #d32f2f;
  transform: translateY(-2px);
}

/* Mobile Responsive Adjustments */
@media (max-width: 768px) {
  .user-trigger {
    padding: 6px;
  }

  .username {
    display: none;
  }

  .avatar-container {
    width: 40px;
    height: 40px;
  }

  .profile-dropdown {
    width: 290px;
    left: -8px;
  }
}

/* Enhanced User Profile Styles */
.avatar-upload-container {
  text-align: center;
  margin-bottom: 24px;
}

.avatar-upload {
  width: 120px;
  height: 120px;
  margin: 0 auto;
  border-radius: 50%;
  overflow: hidden;
  cursor: pointer;
  position: relative;
  background: #f5f5f5;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

.avatar-upload:hover .avatar-overlay {
  opacity: 1;
}

.avatar-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.avatar-overlay .material-icons {
  color: white;
  font-size: 24px;
}

.avatar-placeholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  color: #666;
}

.avatar-placeholder .material-icons {
  font-size: 32px;
}

.avatar-placeholder span {
  font-size: 12px;
}

.upload-hint {
  margin-top: 8px;
  color: #666;
  font-size: 12px;
}

.success-message {
  background: #e8f5e9;
  color: #2e7d32;
  padding: 10px;
  border-radius: 5px;
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Enhanced mobile responsiveness */
@media screen and (max-width: 768px) {
  .profile-dropdown {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    margin: 0;
    border-radius: 0;
    overflow-y: auto;
    animation: slideUp 0.3s ease-out;
  }

  .profile-header {
    position: sticky;
    top: 0;
    background: white;
    padding: 16px;
    z-index: 1;
    border-bottom: 1px solid #eee;
  }

  .avatar-upload {
    width: 150px;
    height: 150px;
  }

  .form-group input {
    font-size: 16px; /* Prevent zoom on iOS */
    padding: 12px;
  }

  .close-btn {
    padding: 8px;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

/* Add touch-friendly styles */
@media (hover: none) {
  .avatar-overlay {
    opacity: 1;
    background: rgba(0, 0, 0, 0.3);
  }
}

/* Enhanced Login Styles */
.login-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: var(--sky-bg-color);
  position: relative;
  overflow: hidden;
}

.login-box {
  background: rgba(255, 255, 255, 0.95);
  padding: 2.5rem;
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(31, 38, 135, 0.2);
  backdrop-filter: blur(10px);
  width: 100%;
  max-width: 420px;
  transform: translateY(0);
  animation: floatIn 0.6s ease-out;
}

.login-header {
  text-align: center;
  margin-bottom: 2rem;
}

.login-header h2 {
  color: #1a237e;
  font-size: 2rem;
  margin-bottom: 0.5rem;
  font-weight: 600;
}

.subtitle {
  color: #666;
  font-size: 0.95rem;
}

.login-form .form-group {
  position: relative;
  margin-bottom: 1.5rem;
  width: 100%;
}

.login-form .form-group i {
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: #666;
  transition: color 0.3s ease;
  pointer-events: none;
}

.login-form input {
  width: 100%;
  padding: 12px 12px 12px 45px;
  border: 2px solid #e1e1e1;
  border-radius: 10px;
  font-size: 16px;
  transition: all 0.3s ease;
  background: rgba(255, 255, 255, 0.9);
  box-sizing: border-box;
}

.login-form input:focus {
  border-color: #4CAF50;
  box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
}

.login-form input:focus + i {
  color: #4CAF50;
}

.submit-btn {
  width: 100%;
  padding: 14px;
  background: linear-gradient(45deg, #4CAF50, #45a049);
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 1.1rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.submit-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
}

.submit-btn i {
  transition: transform 0.3s ease;
}

.submit-btn:hover i {
  transform: translateX(4px);
}

.login-footer {
  text-align: center;
  margin-top: 1.5rem;
}

.login-footer p {
  color: #666;
  font-size: 0.95rem;
}

.switch-btn {
  color: #4CAF50;
  font-weight: 500;
  margin-left: 6px;
  cursor: pointer;
  transition: color 0.3s ease;
}

.switch-btn:hover {
  color: #45a049;
  text-decoration: underline;
}

@keyframes floatIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Mobile responsive adjustments */
@media (max-width: 480px) {
  .login-box {
    padding: 1.5rem;
    margin: 10px;
    width: 95%;
  }
  
  .login-header h2 {
    font-size: 1.5rem;
  }

  .login-form input {
    font-size: 14px;
    padding: 10px 10px 10px 40px;
  }
}

/* Auth Container Styles */
.auth-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  position: relative;
  overflow: hidden;
  padding: 20px;
}

.auth-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, var(--background-dark) 0%, var(--background-light) 100%);
  z-index: -1;
}

.hogwarts-silhouette {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 30vh;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 300" fill="none"><path d="M0,300 L1200,300 L1200,250 C1100,260 1050,200 1000,220 C950,240 900,200 850,210 C800,220 750,240 700,230 C650,220 600,180 550,190 C500,200 450,250 400,240 C350,230 300,190 250,200 C200,210 150,250 100,230 C50,210 0,250 0,250 L0,300 Z" fill="rgba(0,0,0,0.5)"/><path d="M600,250 L600,100 L620,100 L620,200 L650,200 L650,80 L670,80 L670,180 L700,180 L700,40 L720,40 L720,150 L750,150 L750,10 L770,10 L770,120 L800,120 L800,30 L820,30 L820,100 L850,100 L850,50 L870,50 L870,80 L900,80 L900,70 L920,70 L920,90 L950,90 L950,80 L970,80 L970,100 L1000,100 L1000,90 L1020,90 L1020,110 L1050,110 L1050,100 L1070,100 L1070,120 L1100,120 L1100,110 L1120,110 L1120,130 L1150,130 L1150,120 L1170,120 L1170,140 L1200,140 L1200,250 C1100,260 1050,200 1000,220 C950,240 900,200 850,210 C800,220 750,240 700,230 C650,220 600,180 550,190 C500,200 450,250 400,240 C350,230 300,190 250,200 C200,210 150,250 100,230 C50,210 0,250 0,250 L0,200 L30,200 L30,120 L50,120 L50,170 L80,170 L80,100 L100,100 L100,150 L130,150 L130,80 L150,80 L150,130 L180,130 L180,60 L200,60 L200,110 L230,110 L230,40 L250,40 L250,90 L280,90 L280,20 L300,20 L300,70 L330,70 L330,50 L350,50 L350,100 L380,100 L380,70 L400,70 L400,120 L430,120 L430,90 L450,90 L450,140 L480,140 L480,110 L500,110 L500,160 L530,160 L530,130 L550,130 L550,180 L580,180 L580,150 L600,150 L600,250 Z" fill="rgba(0,0,0,0.7)"/></svg>');
  background-repeat: no-repeat;
  background-position: bottom;
  background-size: 100% auto;
  opacity: 0.8;
}

.auth-box {
  background: rgba(255, 255, 255, 0.95);
  padding: 2.5rem;
  border-radius: 20px;
  box-shadow: 0 8px 32px rgba(31, 38, 135, 0.2);
  backdrop-filter: blur(10px);
  width: 100%;
  max-width: 420px;
  transform: translateY(0);
  animation: floatIn 0.6s ease-out;
  position: relative;
  z-index: 1;
  border: 1px solid rgba(211, 166, 37, 0.3);
}

.auth-box::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 20px;
  padding: 2px;
  background: linear-gradient(135deg, rgba(211, 166, 37, 0.8), rgba(116, 0, 1, 0.8));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

.hogwarts-crest {
  width: 80px;
  height: 80px;
  margin: 0 auto 20px;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50,5 L95,30 L95,70 L50,95 L5,70 L5,30 Z" fill="%23740001" stroke="%23D3A625" stroke-width="2"/><text x="50" y="60" font-family="serif" font-size="40" text-anchor="middle" fill="%23D3A625">H</text></svg>');
  background-repeat: no-repeat;
  background-position: center;
  animation: crestGlow 3s infinite alternate;
}

.auth-header {
  text-align: center;
  margin-bottom: 2rem;
}

.auth-header h2 {
  color: var(--primary-color);
  font-size: 1.8rem;
  margin-bottom: 0.5rem;
  font-weight: 600;
}

.auth-header .subtitle {
  color: #666;
  font-size: 0.95rem;
}

.auth-form .form-group {
  position: relative;
  margin-bottom: 1.5rem;
  width: 100%;
}

.auth-form .form-group i {
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: #666;
  transition: color 0.3s ease;
  pointer-events: none;
}

.auth-form input {
  width: 100%;
  padding: 12px 12px 12px 45px;
  border: 2px solid #e1e1e1;
  border-radius: 10px;
  font-size: 16px;
  transition: all 0.3s ease;
  background: rgba(255, 255, 255, 0.9);
  box-sizing: border-box;
}

.auth-form input:focus {
  border-color: var(--secondary-color);
  box-shadow: 0 0 0 3px rgba(211, 166, 37, 0.1);
}

.auth-form input:focus + i {
  color: var(--secondary-color);
}

.submit-btn {
  width: 100%;
  padding: 14px;
  background: linear-gradient(45deg, var(--primary-color), #8B0000);
  color: var(--secondary-color);
  border: none;
  border-radius: 10px;
  font-size: 1.1rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-family: 'Cinzel', serif;
}

.submit-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(116, 0, 1, 0.4);
}

.submit-btn:disabled {
  opacity: 0.7;
  cursor: not-allowed;
}

.submit-btn i {
  transition: transform 0.3s ease;
}

.submit-btn:hover:not(:disabled) i {
  transform: translateX(4px);
}

.loading-spinner-small {
  width: 24px;
  height: 24px;
  border: 3px solid rgba(211, 166, 37, 0.3);
  border-top: 3px solid var(--secondary-color);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

.auth-footer {
  text-align: center;
  margin-top: 1.5rem;
}

.auth-footer p {
  color: #666;
  font-size: 0.95rem;
  cursor: pointer;
}

.switch-btn {
  color: var(--primary-color);
  font-weight: 500;
  margin-left: 6px;
  transition: color 0.3s ease;
}

.switch-btn:hover {
  color: var(--secondary-color);
  text-decoration: underline;
}

@keyframes crestGlow {
  0% {
    filter: drop-shadow(0 0 2px rgba(211, 166, 37, 0.5));
  }
  100% {
    filter: drop-shadow(0 0 10px rgba(211, 166, 37, 0.8));
  }
}

/* Mobile responsive adjustments */
@media (max-width: 480px) {
  .auth-box {
    padding: 1.5rem;
    margin: 10px;
    width: 95%;
  }
  
  .auth-header h2 {
    font-size: 1.5rem;
  }
  
  .hogwarts-crest {
    width: 60px;
    height: 60px;
  }

  .auth-form input {
    font-size: 14px;
    padding: 10px 10px 10px 40px;
  }
}

/* Navbar Styles */
.navbar {
  position: sticky;
  top: 0;
  left: 0;
  width: 100%;
  background: rgba(10, 10, 42, 0.8);
  backdrop-filter: blur(10px);
  z-index: 100;
  border-bottom: 1px solid rgba(211, 166, 37, 0.2);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}

.navbar-content {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0.8rem 2rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.navbar-brand {
  display: flex;
  align-items: center;
}

.navbar-logo {
  color: var(--secondary-color);
  text-decoration: none;
  font-size: 1.5rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.8rem;
  transition: all 0.3s ease;
}

.navbar-logo:hover {
  color: #fff;
  text-shadow: 0 0 10px rgba(211, 166, 37, 0.5);
}

.navbar-logo-crest {
  width: 36px;
  height: 36px;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50,5 L95,30 L95,70 L50,95 L5,70 L5,30 Z" fill="%23740001" stroke="%23D3A625" stroke-width="2"/><text x="50" y="60" font-family="serif" font-size="40" text-anchor="middle" fill="%23D3A625">H</text></svg>');
  background-repeat: no-repeat;
  background-position: center;
}

.navbar-toggle {
  display: none;
  color: var(--secondary-color);
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
}

.navbar-menu {
  display: flex;
  align-items: center;
  gap: 1.5rem;
}

.navbar-item {
  color: var(--text-primary);
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.8rem;
  border-radius: 8px;
  transition: all 0.3s ease;
  font-size: 1rem;
}

.navbar-item:hover {
  background: rgba(211, 166, 37, 0.1);
  color: var(--secondary-color);
}

.navbar-item i {
  font-size: 1.2rem;
}

.user-info {
  display: flex;
  align-items: center;
  gap: 0.8rem;
  margin-left: 0.5rem;
}

.user-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  overflow: hidden;
  background: var(--primary-color);
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid var(--secondary-color);
}

.avatar-placeholder {
  color: var(--secondary-color);
  font-size: 1rem;
  font-weight: 600;
}

.logout-button {
  background: none;
  border: 1px solid var(--primary-color);
  cursor: pointer;
  font-family: 'Cinzel', serif;
  font-weight: 500;
  color: var(--text-primary);
}

.logout-button:hover {
  background: var(--primary-color);
  color: var(--secondary-color);
}

.login-button {
  background: linear-gradient(45deg, var(--primary-color), #8B0000);
  color: var(--secondary-color);
  border-radius: 8px;
  padding: 0.5rem 1.2rem;
  font-weight: 500;
}

.login-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(116, 0, 1, 0.4);
  background: linear-gradient(45deg, #8B0000, var(--primary-color));
}

/* Mobile Responsive Navbar */
@media (max-width: 768px) {
  .navbar-content {
    padding: 0.8rem 1rem;
  }
  
  .navbar-toggle {
    display: block;
  }
  
  .navbar-menu {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: rgba(10, 10, 42, 0.95);
    flex-direction: column;
    padding: 1rem;
    gap: 1rem;
    align-items: flex-start;
    transform: translateY(-100%);
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
    border-bottom: 1px solid rgba(211, 166, 37, 0.2);
  }
  
  .navbar-menu.active {
    transform: translateY(0);
    opacity: 1;
    visibility: visible;
  }
  
  .navbar-item {
    width: 100%;
  }
  
  .navbar-logo span {
    font-size: 1.2rem;
  }
}